<template>
  <div>
    <h1>Formulaire de Quartier</h1>
    <form @submit.prevent="submitForm">
      <label for="quartierNom">Nom du quartier:</label>
      <input type="text" v-model="quartierNom" id="quartierNom" />
      <br />
      <input
        type="text"
        readonly
        :value="quartierGeom.coordinates.length"
        id="quartierG"
      />

      <h2>Éditeur de Géométrie</h2>
      <MapEditMultipolygon2 v-model="quartierGeom" />

      <button type="submit">Soumettre</button>
    </form>
  </div>
</template>

<script setup>
import { ref } from "vue";
import MapEditMultipolygon2 from "./MapEditMultipolygon2.vue";

const quartierNom = ref("test");
const quartierGeom = ref({
  type: "MultiPolygon",
  coordinates: [
    [
      [
        [7.11418700524274, 45.412230700947646],
        [7.111297742476446, 45.41185624608991],
        [7.108296778947945, 45.411298207626814],
        [7.103834272245506, 45.410472939811896],
        [7.101711673613545, 45.40998944746396],
        [7.102650444375244, 45.411398263312435],
        [7.103369188071507, 45.4139376228029],
        [7.104975488293572, 45.4151348871397],
        [7.107609187002535, 45.41688243385706],
        [7.110163796833568, 45.41807157979821],
        [7.11171471606727, 45.418488668662796],
        [7.112136321425722, 45.41809062429281],
        [7.112794386195926, 45.41768038253316],
        [7.11333486724111, 45.41765722524633],
        [7.113561892692607, 45.41734908500935],
        [7.113830778733178, 45.4171351792884],
        [7.114123593935906, 45.41738490347048],
        [7.115198208051555, 45.417672365350995],
        [7.115893618428694, 45.41788107832626],
        [7.116687187999359, 45.41824149667441],
        [7.116999411612465, 45.41871548265144],
        [7.117418452539309, 45.419068206698896],
        [7.117418452539565, 45.41906820669888],
        [7.118109413354003, 45.41940014883377],
        [7.12020956541669, 45.420559536181344],
        [7.121973476390597, 45.42205859889112],
        [7.123108969736205, 45.42274423382767],
        [7.12365904986982, 45.42319681079942],
        [7.123579555366834, 45.42490917585075],
        [7.12417039987554, 45.42521476673672],
        [7.124737012194367, 45.42519390721847],
        [7.125699870380693, 45.42424917609856],
        [7.130442213488824, 45.42203764539577],
        [7.130412549561957, 45.42163865596169],
        [7.129792049649698, 45.42093410857988],
        [7.129938478780073, 45.42081959684212],
        [7.13041308830911, 45.420256530889965],
        [7.130716992716495, 45.41948153021088],
        [7.130286350368324, 45.41855175840692],
        [7.131134945091087, 45.41815675473926],
        [7.130850459588033, 45.41780353403159],
        [7.130121326340305, 45.41772130604441],
        [7.129893744581451, 45.4174387274962],
        [7.129021178168459, 45.41681621360699],
        [7.127284187046591, 45.41567998106041],
        [7.125222441044615, 45.4136464094192],
        [7.123712802977828, 45.413483771600795],
        [7.122287335306916, 45.41306341945299],
        [7.120786180600896, 45.412318496355695],
        [7.119480300797773, 45.41142088940551],
        [7.119187170937056, 45.410733827100046],
        [7.118264279697832, 45.41101297734347],
        [7.117356402638583, 45.41077710578775],
        [7.116502920772042, 45.410453846486035],
        [7.116048698689935, 45.41026129150678],
        [7.115876262290101, 45.41003016173134],
        [7.115464589461447, 45.4097617907265],
        [7.115041871446437, 45.4095278812269],
        [7.114760651884668, 45.41004701290298],
        [7.114482543275027, 45.41035734625067],
        [7.114435783429468, 45.41080025700679],
        [7.114483069893963, 45.41134755629844],
        [7.114308172871666, 45.411664823199516],
        [7.114187005242989, 45.412230700947525],
        [7.11418700524274, 45.412230700947646],
      ],
    ],
  ],
});

const quartier = ref({
  properties: {
    quartier_nom: quartierNom.value,
  },
});

function submitForm() {
  const data = {
    nom: quartierNom.value,
    geom: quartierGeom.value,
  };
  console.log("Form Data:", data);
  // Traitez les données du formulaire ici (envoyez-les à un serveur, etc.)
}
</script>
